<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mine Ã–ÄŸretmen'in Uzay MacerasÄ±</title>
    
    <style>
        /* CSS KISMI: Profesyonel Tema ve Uzay Uyumlu KonumlandÄ±rma */
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Open+Sans:wght@400;600&display=swap');

        body {
            /* Arka plan gÃ¶rseli ve genel ayarlar */
            margin: 0; padding: 0; height: 100vh; width: 100vw;
            display: flex; justify-content: center; align-items: center;
            background-image: url('background.jpg'); 
            background-size: cover; background-position: center;
            background-color: #0A0A30; /* Derin Uzay Mavi/Siyah */
            color: #F0F0F0; font-family: 'Open Sans', sans-serif;
            text-align: center; transition: background-color 1s ease; 
            position: relative; 
            overflow: hidden; 
        }

        /* AÅŸama KutularÄ± (Uzay KapsÃ¼lÃ¼ Efekti) */
        .stage {
            padding: 30px; max-width: 90%; width: 85%; border-radius: 15px;
            box-sizing: border-box; 
            background: rgba(10, 10, 48, 0.9); /* KOYU VE OPAK UZAY KUTUSU */
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.9), 0 0 15px #FFD700; /* AltÄ±n IÅŸÄ±ÄŸÄ± */
            
            position: absolute; 
            top: 50%; left: 50%;
            transform: translate(-50%, -50%); 
        }
        
        #stage2, #stage3, #stage4, #stage5 {
            display: none; 
        }

        /* BaÅŸlÄ±klar ve Metin Stilleri */
        h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3.5em; margin-bottom: 20px;
            color: #FFD700; /* Cosmic Gold */
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }
        h2 {
            color: #3498DB; /* GÃ¶k Mavisi */
            font-family: 'Montserrat', sans-serif;
            font-size: 2.2em; margin-bottom: 30px;
        }
        p {
            font-size: 1.6em; margin-bottom: 40px; font-weight: 600;
        }

        /* ButonlarÄ±n Ortak Stili (GeliÅŸmiÅŸ) */
        .button {
            padding: 18px 35px; font-size: 1.4em; font-weight: 700;
            border: 2px solid #FFD700; /* AltÄ±n Ã‡erÃ§eve */
            border-radius: 50px; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            margin: 10px; 
        }

        .button:hover {
            transform: translateY(-2px) scale(1.03);
            box-shadow: 0 6px 15px rgba(255, 215, 0, 0.5); /* Hoverda altÄ±n parlama */
        }

        /* Buton Renkleri */
        #musicButton { background-color: #C0392B; color: white; border-color: #E74C3C; } /* KÄ±rmÄ±zÄ± Alarm */
        #musicButton:hover { background-color: #E74C3C; }

        #startButton { background-color: #27AE60; color: white; border-color: #2ECC71; } /* YeÅŸil Onay */
        #startButton:hover { background-color: #2ECC71; }
        
        /* Cevap ButonlarÄ± (GÃ¶rev SeÃ§imi) */
        .answer-button {
            background-color: #34495E; /* Koyu Gri */
            color: white; width: 100%; margin-bottom: 15px; font-size: 1.2em;
            border-color: #3498DB; /* Mavi Ã‡erÃ§eve */
        }
        .answer-button:hover {
            background-color: #3498DB; /* Maviye dÃ¶ner */
        }

        /* 3. AÅŸama (SÄ±nav) Stili - Metin netliÄŸi iÃ§in beyaz taban */
        #stage3 {
            background: rgba(255, 255, 255, 0.95); /* Neredeyse tam beyaz */
            color: #0A0A30; 
            min-height: 400px;
            flex-direction: column;
            justify-content: center;
        }
        #stage3 #questionText {
            font-size: 1.8em; font-weight: 600; margin-bottom: 30px; color: #34495e;
        }

        /* 4. AÅŸama (YÃ¼kleme) Stili */
        #stage4 {
            color: #FFD700;
            background: rgba(10, 10, 48, 0.9);
        }

        /* 5. AÅŸama (SonuÃ§) Stili - DÃ¼ÅŸÃ¼k BaÅŸarÄ± iÃ§in mavi tema */
        #stage5 {
            background: rgba(52, 152, 219, 0.9); 
            color: white;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.9), 0 0 15px #3498DB;
        }
    </style>
</head>
<body>

    <audio id="backgroundMusic" src="muzik.mp3" preload="auto" loop></audio> 

    <div id="stage1" class="stage">
        <h1>HOÅž GELDÄ°N, URANÃœS'ÃœN KAÅžÄ°FÄ° MÄ°NE Ã–ÄžRETMEN</h1>
        <p>UranÃ¼s'Ã¼ kurtarma gÃ¶revine baÅŸlamadan Ã¶nce bir mÃ¼zik baÅŸlatalÄ±m :) Alttaki butona tÄ±klar mÄ±sÄ±n?</p>
        <button id="musicButton" class="button">MÃ¼ziÄŸi Oynat ðŸŽµ</button>
    </div>

    <div id="stage2" class="stage">
        <h1>GÃ–REV BAÅžLANGICI: MATEMATÄ°K ZORLUKLARI</h1>
        <p>Mars'Ä±n kapsÃ¼lÃ¼ kilitli. Mars'a ulaÅŸmak iÃ§in, 5 farklÄ± boyuttan gelen kritik matematik kodlarÄ±nÄ± baÅŸarÄ±yla kÄ±rmanÄ±z gerekiyor. HazÄ±r mÄ±sÄ±n?</p>
        <button id="startButton" class="button">BAÅžLA! ðŸš€</button>
    </div>
    
    <div id="stage3" class="stage">
        <h2>KOD KIRMA <span id="questionNumber">1</span> / 5</h2>
        <p id="questionText"></p>
        <div id="answerArea"></div>
    </div>

    <div id="stage4" class="stage">
        <h1 style="color: #FFD700;">VERÄ° ANALÄ°ZÄ° YAPILIYOR...</h1>
        <p style="color: white; font-size: 1.4em;">Cevaplar uzay-zaman sÃ¼rekliliÄŸinde kontrol ediliyor. LÃ¼tfen bekleyin.</p>
    </div>

    <div id="stage5" class="stage">
        <h1>GÃ–REV TAMAMLANDI!</h1>
        <p id="resultText" style="margin-bottom: 20px;"></p>
        <p style="font-size: 1.8em; font-weight: bold; margin-top: 30px;">"Ã–nemli olan her zaman denemektir. TeÅŸekkÃ¼rler, Mine Ã–ÄŸretmen."</p>
    </div>


    <script>
        // JAVASCRIPT KISMI: AkÄ±ÅŸ YÃ¶netimi ve Oyun MekanizmasÄ± (DeÄŸiÅŸmedi)
        
        const musicButton = document.getElementById('musicButton');
        const startButton = document.getElementById('startButton');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const stage1 = document.getElementById('stage1');
        const stage2 = document.getElementById('stage2');
        const stage3 = document.getElementById('stage3');
        const stage4 = document.getElementById('stage4');
        const stage5 = document.getElementById('stage5');
        const questionText = document.getElementById('questionText');
        const questionNumber = document.getElementById('questionNumber');
        const answerArea = document.getElementById('answerArea');
        const resultText = document.getElementById('resultText');
        const body = document.body;
        
        // Soru Veri YapÄ±sÄ± (5 Soru)
        const questions = [
            {
                text: "EN SEVDÄ°ÄžÄ°NÄ°Z GEZEGEN HANGÄ°SÄ°DÄ°R?",
                answers: ["DÃœNYA", "URANÃœS", "VENÃœS"],
                correct: "URANÃœS"
            },
            {
                text: "BÄ°R Ã‡EMBERÄ°N Ã‡EVRESÄ° NEYE EÅžÄ°TTÄ°R?",
                answers: ["3'E", "PÄ° SAYISINA", "SONSUZLUÄžA"],
                correct: "SONSUZLUÄžA"
            },
            {
                text: "DÃœNYANIN EN GÃœZEL ÃœLKESÄ° HANGÄ°SÄ°DÄ°R?",
                answers: ["AKYURT", "TÃœRKÄ°YE", "AFÅžÄ°N"],
                correct: "AKYURT"
            },
            {
                text: "EN SEVDÄ°ÄžÄ°NÄ°Z Ã–ÄžRENCÄ°LER HANGÄ° OKULUNUZDAYDI?",
                answers: ["MUHAMMED HAMDÄ° YAZIR AÄ°HL", "AFÅžÄ°N ANADOLU LÄ°SESÄ°", "ARITAÅž Ã–ZTÃœRK ANADOLU LÄ°SESÄ°"],
                correct: "MUHAMMED HAMDÄ° YAZIR AÄ°HL"
            },
            {
                text: "EVRENDEKÄ° EN TATLI KEDÄ°NÄ°N Ä°SMÄ° NEDÄ°R?",
                answers: ["GARFÄ°ELD", "Ã‡Ä°ZMELÄ° KEDÄ°", "MARS"],
                correct: "MARS"
            }
        ];
        
        let currentQuestionIndex = 0;
        let correctAnswersCount = 0;

        // --- AÅžAMA GEÃ‡Ä°Åž FONKSÄ°YONU ---
        function transitionToStage(targetStage) {
            const stages = [stage1, stage2, stage3, stage4, stage5];
            stages.forEach(s => s.style.display = 'none');
            if (targetStage) {
                targetStage.style.display = (targetStage === stage3) ? 'flex' : 'block';
            }
        }

        // --- OLAY DÄ°NLEYÄ°CÄ°LERÄ° ---
        musicButton.addEventListener('click', function() {
            backgroundMusic.play().catch(error => console.error("MÃ¼zik hatasÄ±:", error));
            transitionToStage(stage2);
        });

        startButton.addEventListener('click', function() {
            transitionToStage(stage3);
            loadQuestion(currentQuestionIndex); 
        });

        // --- SORU-CEVAP MEKANÄ°ZMASI ---
        function loadQuestion(index) {
            answerArea.innerHTML = ''; 
            if (index >= questions.length) {
                transitionToStage4();
                return;
            }

            const q = questions[index];
            questionNumber.textContent = index + 1;
            questionText.textContent = q.text;

            q.answers.forEach(answer => {
                const button = document.createElement('button');
                button.textContent = answer;
                button.className = 'button answer-button';
                button.addEventListener('click', () => handleAnswer(answer, q.correct));
                answerArea.appendChild(button);
            });
        }

        function handleAnswer(selectedAnswer, correctAnswer) {
            if (selectedAnswer === correctAnswer) {
                correctAnswersCount++;
            }
            currentQuestionIndex++;
            loadQuestion(currentQuestionIndex);
        }

        // --- Ã–ZEL AÅžAMALAR (4 & 5) ---
        function transitionToStage4() {
            transitionToStage(stage4);
            
            setTimeout(() => {
                const totalQuestions = questions.length;
                const percentage = (correctAnswersCount / totalQuestions) * 100;

                if (percentage >= 80) {
                    // YÃœKSEK BAÅžARI: Yeni sÃ¼rpriz sayfasÄ±na yÃ¶nlendir!
                    window.location.href = 'surprise.html';
                } else {
                    // DÃœÅžÃœK BAÅžARI: Mevcut Stage 5'e geÃ§ilir.
                    transitionToStage5();
                }
            }, 3000); 
        }

        function transitionToStage5() {
            transitionToStage(stage5);
            
            const totalQuestions = questions.length;
            const correct = correctAnswersCount;
            
            const message = `GÃ¶revi tamamladÄ±nÄ±z! ${totalQuestions} sorudan ${correct}'sini doÄŸru bildiniz.`;
            resultText.innerHTML = message;
            body.style.backgroundColor = '#3498DB'; 
        }
    </script>
</body>
</html>